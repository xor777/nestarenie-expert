```mermaid
sequenceDiagram
    actor User
    participant Bot
    participant ChromaDB
    participant OpenAI

    User->>Bot: ะัะฟัะฐะฒะปัะตั ะฒะพะฟัะพั
    #Note over Bot: ะะพะณะธััะตั ะฒะพะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั
    Bot->>OpenAI: ะะฐะฟัะฐัะธะฒะฐะตั ัะผะฑะตะดะดะธะฝะณ ะฒะพะฟัะพัะฐ
    OpenAI-->>Bot: ะะพะทะฒัะฐัะฐะตั ัะผะฑะตะดะดะธะฝะณ
    Bot->>ChromaDB: ะัะตั ัะตะปะตะฒะฐะฝัะฝัะต ะพัะฒะตัั
    ChromaDB-->>Bot: ะะพะทะฒัะฐัะฐะตั ัะตะทัะปััะฐัั

    alt ะะตั ัะตะปะตะฒะฐะฝัะฝัั ะพัะฒะตัะพะฒ (ะฟัััะพะน ะบะพะฝัะตะบัั)
        Bot-->>User: "ะะตั ัะตะปะตะฒะฐะฝัะฝะพะน ะธะฝัะพัะผะฐัะธะธ"
    else ะััั ะพัะฒะตั ั ัะตะปะตะฒะฐะฝัะฝะพัััั โฅ DIRECT_ANSWER_RELEVANCE
        alt ะัะธะณะธะฝะฐะปัะฝัะน ะพัะฒะตั
            Bot-->>User: ๐ ะัะฒะตั + ะธััะพัะฝะธะบะธ
        else ะะฐะฝะตะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน
            Bot-->>User: ๐ ะัะฒะตั + ะธััะพัะฝะธะบะธ
        end
    else ะััั ะบะพะฝัะตะบัั, ะฝะพ ัะตะปะตะฒะฐะฝัะฝะพััั < DIRECT_ANSWER_RELEVANCE
        Bot->>OpenAI: ะะตะฝะตัะธััะตั ะฝะพะฒัะน ะพัะฒะตั
        OpenAI-->>Bot: JSON ั ะพัะฒะตัะพะผ ะธ ะธััะพัะฝะธะบะฐะผะธ
        Bot->>OpenAI: ะะฐะฟัะฐัะธะฒะฐะตั ัะผะฑะตะดะดะธะฝะณ ะดะปั ะฒะพะฟัะพัะฐ
        OpenAI-->>Bot: ะะพะทะฒัะฐัะฐะตั ัะผะฑะตะดะดะธะฝะณ
        Bot->>ChromaDB: ะกะพััะฐะฝัะตั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะพัะฒะตั ั ัะผะฑะตะดะดะธะฝะณะพะผ
        Bot-->>User: ๐ง ะัะฒะตั + ะธััะพัะฝะธะบะธ
    end
``` 